# Enable headers module
<IfModule mod_headers.c>
  # Set correct content type for Universal Links files
  <Files ".well-known/apple-app-site-association">
    Header set Content-Type "application/json"
    Header unset X-Powered-By
    Header unset ETag
  </Files>
  
  <Files ".well-known/assetlinks.json">
    Header set Content-Type "application/json"
    Header unset X-Powered-By
    Header unset ETag
  </Files>
  
  # Prevent caching for app association files
  <FilesMatch ".(apple-app-site-association|assetlinks\.json)$">
    Header set Cache-Control "no-store, no-cache, must-revalidate, max-age=0"
    Header set Pragma "no-cache"
    Header set Expires "Thu, 01 Jan 1970 00:00:00 GMT"
  </FilesMatch>
</IfModule>

# Allow access to .well-known directory
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteRule ^\.well-known - [L]
</IfModule>